ports:
- location: eth1
  name: p1
- location: eth2
  name: p2
devices:
  - ethernets:
      - connection:
          choice: port_name
          port_name: p1
        ipv4_addresses:
          - gateway: 192.0.2.2
            address: 192.0.2.1
            prefix: 30
            name: otg1.eth[0].ipv4[0]
        mac: 02:00:00:00:01:aa
        mtu: 1500
        name: otg1.eth[0]
    name: otg1
  - ethernets:
      - connection:
          choice: port_name
          port_name: p2
        ipv4_addresses:
          - gateway: 192.0.2.1
            address: 192.0.2.2
            prefix: 30
            name: otg2.eth[0].ipv4[0]
        mac: 02:00:00:00:02:aa
        mtu: 1500
        name: otg2.eth[0]
    name: otg2
flows:
  - tx_rx:
      choice: device
      device:
        mode: one_to_one
        tx_names:
          - otg1.eth[0].ipv4[0]
        rx_names:
          - otg2.eth[0].ipv4[0]
    size:
      choice: fixed
      fixed: 256
    rate:
      choice: pps
      pps: 100
    duration:
      choice: fixed_packets
      fixed_packets:
        packets: 100
    metrics:
      enable: true
      loss: false
      timestamps: false
    name: f1
